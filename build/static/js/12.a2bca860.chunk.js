"use strict";(self.webpackChunksnappy=self.webpackChunksnappy||[]).push([[12],{968:function(n,e,r){r.r(e),r.d(e,{default:function(){return y}});var t,a=r(168),o=r(4165),c=r(5861),i=r(885),u=r(2791),s=r(7689),l=r(6444),f=r(8174),d=(r(5462),r(4569)),p=r.n(d),m=r(8204),h=r(7820),g=r(8635),b=void 0,v=r(184);function y(){var n=(0,s.s0)();(0,h.Aj)(g.l,(function(e){e?S(e.email?e.email:e.providerData[0].email):n("/login")}));var e=(0,u.useState)(""),r=(0,i.Z)(e,2),t=r[0],a=r[1],l=(0,u.useState)(""),d=(0,i.Z)(l,2),y=d[0],w=d[1],k=(0,u.useState)(void 0),Z=(0,i.Z)(k,2),j=Z[0],S=Z[1],I=(0,u.useState)(void 0),A=(0,i.Z)(I,2),C=A[0],D=A[1],N={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,u.useEffect)((function(){localStorage.getItem("snappy-user")&&n("/")}),[]);var O=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(r){var a,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!T()){e.next=14;break}return e.prev=2,e.next=5,p().post(m.X0,{username:t,email:j,password:(Math.random()+1).toString(20).substring(1)});case 5:a=e.sent,!1===(c=a.data).status&&f.Am.error(c.msg,N),!0===c.status&&(localStorage.setItem("snappy-user",JSON.stringify(c.user)),n("/")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),f.Am.error(e.t0,N);case 14:case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}(),T=function(){return!(t.length<3)||(f.Am.error("Username is required and should be greater than 3 characters",N),!1)},R=function(n){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];clearTimeout(e),e=setTimeout((function(){n.apply(b,a)}),r)}}((function(n){return U(n)}),300),U=function(){var n=(0,c.Z)((0,o.Z)().mark((function n(e){var r,t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.length>3)){n.next=9;break}return n.next=3,p().post(m._d,{username:e});case 3:r=n.sent,t=r.data,console.log(t),D(t.status),w(t.msg),a(e);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x,{children:(0,v.jsxs)("form",{onSubmit:function(n){return O(n)},children:[(0,v.jsx)("span",{children:"Check Username Availibility"}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("input",{type:"text",placeholder:"Username",name:"username",onChange:function(n){return R(n.target.value)},min:"3",className:"".concat(C?"success":void 0!==C?"danger":"")}),(0,v.jsx)("label",{htmlFor:"",className:"".concat(C?"success":void 0!==C?"danger":""),children:y})]}),(0,v.jsx)("button",{type:"submit",className:"btn",children:"Create User"})]})}),(0,v.jsx)(f.Ix,{})]})}var x=l.ZP.div(t||(t=(0,a.Z)(["\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .row{\n    label{\n      display:block;\n      margin: 10px 0 0 5px;\n      transition: 0.3s ease-in-out;\n      height: 0.5rem;\n    }\n    label.success{\n      color: #39ff14;\n    }\n    label.danger{\n      color: #ff3131;\n    }\n  }\n   form {\n     display: flex;\n     flex-direction: column;\n     gap: 2rem;\n     background-color: #00000076;\n     border-radius: 2rem;\n     padding: 3rem 5rem;\n   }\n   input {\n     background-color: transparent;\n     padding: 1rem;\n     border: 0.1rem solid #4e0eff;\n     border-radius: 0.4rem;\n     color: white;\n     width: 100%;\n     font-size: 1rem;\n     &:focus {\n       border: 0.1rem solid #997af0;\n       outline: none;\n     }\n   }\n   .success{\n    border-color:#39ff14;\n    &:focus{\n      border-color:#39ff14;\n    }\n   }\n   .danger{\n    border-color:#ff3131;\n    &:focus{\n      border-color:#ff3131;\n    }\n   }\n   .btn {\n     background-color: #4e0eff;\n     color: white;\n     padding: 1rem 2rem;\n     border: none;\n     font-weight: bold;\n     cursor: pointer;\n     border-radius: 0.4rem;\n     font-size: 1rem;\n     text-transform: uppercase;\n   }\n   span {\n     color: white;\n     text-transform: uppercase;\n   }\n"])))},8204:function(n,e,r){r.d(e,{Ds:function(){return s},F4:function(){return l},JC:function(){return u},TC:function(){return c},VU:function(){return a},X0:function(){return o},_d:function(){return f},ho:function(){return t},pK:function(){return i}});var t="http://localhost:".concat(5001),a="".concat(t,"/api/auth/login"),o="".concat(t,"/api/auth/register"),c="".concat(t,"/api/auth/setavatar"),i="".concat(t,"/api/auth/allusers"),u="".concat(t,"/api/messages/addmsg"),s="".concat(t,"/api/messages/getmsg"),l="".concat(t,"/api/auth/firebaselogin"),f="".concat(t,"/api/auth/checkusername")},8635:function(n,e,r){r.d(e,{l:function(){return c}});var t=r(4702),a=r(7820),o=(0,t.ZF)({apiKey:"AIzaSyDhKsk5wquh5RsnSdhd7MXTDMsQJj9BTcQ",authDomain:"chat-app-a1e59.firebaseapp.com",projectId:"chat-app-a1e59",storageBucket:"chat-app-a1e59.appspot.com",messagingSenderId:"1095818564053",appId:"1:1095818564053:web:417c6c509d67e1d9b9ed5c",measurementId:"G-W86GEL5XRN"}),c=(0,a.v0)(o)},7762:function(n,e,r){r.d(e,{Z:function(){return a}});var t=r(181);function a(n,e){var r="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=(0,t.Z)(n))||e&&n&&"number"===typeof n.length){r&&(n=r);var a=0,o=function(){};return{s:o,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){r=r.call(n)},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,c=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw c}}}}},1752:function(n,e,r){r.d(e,{Z:function(){return o}});var t=r(1120);function a(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=(0,t.Z)(n)););return n}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,e,r){var t=a(n,e);if(t){var o=Object.getOwnPropertyDescriptor(t,e);return o.get?o.get.call(arguments.length<3?n:r):o.value}},o.apply(this,arguments)}}}]);
//# sourceMappingURL=12.a2bca860.chunk.js.map