"use strict";(self.webpackChunksnappy=self.webpackChunksnappy||[]).push([[231],{6012:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var a,r=t(168),c=t(4165),s=t(5861),i=t(885),o=t(2791),u=t(7689),l=t(6444),p=t.p+"static/media/loader.b40fc3d91ff1f4db53e2.gif",f=t(8174),d=(t(5462),t(4569)),m=t.n(d),h=t(8204),g=t(9778),v=t(184);function x(){var e="https://api.multiavatar.com/45678945",n=(0,u.s0)(),t=(0,o.useState)([]),a=(0,i.Z)(t,2),r=a[0],l=a[1],d=(0,o.useState)(!0),x=(0,i.Z)(d,2),k=x[0],y=x[1],Z=(0,o.useState)(void 0),j=(0,i.Z)(Z,2),S=j[0],w=j[1],C={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,o.useEffect)((function(){function e(){return(e=(0,s.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("snappy-user")||n("/login");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var N=function(){var e=(0,s.Z)((0,c.Z)().mark((function e(){var t,a,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==S){e.next=4;break}f.Am.error("Please Select an avatar",C),e.next=18;break;case 4:return e.prev=4,e.next=7,JSON.parse(localStorage.getItem("snappy-user"));case 7:return t=e.sent,e.next=10,m().post("".concat(h.TC,"/").concat(t._id),{image:r[S]});case 10:a=e.sent,(s=a.data).isSet?(t.isAvatarImageSet=!0,t.avatarImage=s.image,localStorage.setItem("snappy-user",JSON.stringify(t)),n("/")):f.Am.error("Error setting avatar.Please try again",C),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),f.Am.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){function n(){return(n=(0,s.Z)((0,c.Z)().mark((function n(){var t,a,r,s;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=[],a=0;case 2:if(!(a<4)){n.next=17;break}return n.prev=3,n.next=6,m().get("".concat(e,"/").concat(Math.round(1e3*Math.random())));case 6:r=n.sent,s=new g.lW(r.data),t.push(s.toString("base64")),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0);case 14:a++,n.next=2;break;case 17:l(t),y(!1);case 20:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),(0,v.jsxs)(v.Fragment,{children:[k?(0,v.jsx)(b,{children:(0,v.jsx)("img",{src:p,alt:"loader",className:"loader"})}):(0,v.jsxs)(b,{children:[(0,v.jsx)("div",{className:"title-container",children:(0,v.jsx)("h1",{children:"Pick an avatar as your profile picture"})}),(0,v.jsx)("div",{className:"avatars",children:r.map((function(e,n){return(0,v.jsx)("div",{className:"avatar ".concat(S===n?"selected":""),children:(0,v.jsx)("img",{src:"data:image/svg+xml;base64,".concat(e),alt:"avatar",onClick:function(){return w(n)}})},n)}))}),(0,v.jsx)("button",{className:"submit-btn",onClick:N,children:"Set as Profile Picture"})]}),(0,v.jsx)(f.Ix,{})]})}var b=l.ZP.div(a||(a=(0,r.Z)(["\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    flex-direction:column;\n    gap: 3rem;\n    background-color:#131324;\n    height:100vh;\n    .loader{\n        max-inline-size: 100%;\n    }\n    .title-container{\n        h1{\n            color:white;\n        }\n    }\n    .avatars{\n        display:flex;\n        gap:2rem;\n        .avatar{\n            border:0.4rem solid transparent;\n            padding:0.4rem;\n            border-radius:5rem;\n            dislay:flex;\n            justify-content:center;\n            align-items:center;\n            transition:0.5s ease-in-out;\n            img{\n                height:6rem;\n            }\n        }\n        .selected{\n            border: 0.4rem solid #4e0eff\n        }\n    }\n    .submit-btn{\n    background-color: #4e0eff;\n     color: white;\n     padding: 1rem 2rem;\n     border: none;\n     font-weight: bold;\n     cursor: pointer;\n     border-radius: 0.4rem;\n     font-size: 1rem;\n     text-transform: uppercase;\n     &:hover {\n       background-color: #4e0eff;\n    }\n"])))},8204:function(e,n,t){t.d(n,{Ds:function(){return u},F4:function(){return l},JC:function(){return o},TC:function(){return s},VU:function(){return r},X0:function(){return c},_d:function(){return p},ho:function(){return a},pK:function(){return i}});var a="http://localhost:".concat(5001),r="".concat(a,"/api/auth/login"),c="".concat(a,"/api/auth/register"),s="".concat(a,"/api/auth/setavatar"),i="".concat(a,"/api/auth/allusers"),o="".concat(a,"/api/messages/addmsg"),u="".concat(a,"/api/messages/getmsg"),l="".concat(a,"/api/auth/firebaselogin"),p="".concat(a,"/api/auth/checkusername")}}]);
//# sourceMappingURL=231.d7b8e227.chunk.js.map